{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '46523265-c71f09449dcc8bc0189ac0d2d';\n\nconst fetchImages = (searchParam, page) => {\n  return fetch(\n    `https://pixabay.com/api/?key=${apiKey}&q=${searchParam}&image_type=photo&orientation=horizontal&safesearch=true&per_page=12&page=${page}`\n  );\n};\n\nexport { fetchImages };","const gallery = document.querySelector('.gallery');\n\nexport const renderLoading = () => {\n  gallery.innerHTML = '<span class=\"loader\"></span>';\n};\n\nconst createImageCard = ({\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n}) => {\n  const li = document.createElement('li');\n  const a = document.createElement('a');\n  a.href = largeImageURL;\n\n  const imageContainer = document.createElement('div');\n  imageContainer.classList.add('image-container');\n\n  const img = document.createElement('img');\n  img.classList.add('image-preview');\n  img.src = webformatURL;\n  img.alt = tags;\n\n  imageContainer.appendChild(img);\n  a.appendChild(imageContainer);\n\n  const cardDescription = document.createElement('div');\n  cardDescription.classList.add('card-description');\n\n  const attributes = [\n    { label: 'Likes', value: likes },\n    { label: 'Views', value: views },\n    { label: 'Comments', value: comments },\n    { label: 'Downloads', value: downloads },\n  ];\n\n  attributes.forEach(attr => {\n    const span = document.createElement('span');\n    span.classList.add('attribute');\n    span.innerHTML = `<span>${attr.label}</span> ${attr.value}`;\n    cardDescription.appendChild(span);\n  });\n\n  a.appendChild(cardDescription);\n  li.appendChild(a);\n\n  return li;\n};\n\nexport const renderImages = images => {\n  const fragment = document.createDocumentFragment();\n  images.forEach(image => {\n    fragment.appendChild(createImageCard(image));\n  });\n\n  const ul = document.createElement('ul');\n  ul.classList.add('gallery-list');\n  ul.appendChild(fragment);\n\n  gallery.innerHTML = '';\n  gallery.appendChild(ul);\n};\n\nexport const renderError = (message = 'An error occurred while loading images.') => {\n  gallery.innerHTML = `<span class=\"error\">${message}</span>`;\n};","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api';\nimport { renderLoading, renderImages, renderError} from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst simpleGallery = new SimpleLightbox('.gallery a', {\n  overlayOpacity: 0.8,\n  captions: true,\n  captionDelay: 250,\n  captionPosition: 'bottom',\n  captionType: 'attr',\n  captionsData: 'alt',\n});\n\nconst searchForm = document.querySelector('.search-form');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const form = event.target;\n\n  const searchParam = form.elements.search.value.trim();\n  if (!searchParam) {\n    return;\n  }\n\n  form.reset();\n\n  renderLoading();\n\n  fetchImages(searchParam, 1)\n    .then(response => {\n      return response.json();\n    })\n    .then(data => {\n      if (data.total === 0) {\n        return Promise.reject(\n          new Error(\n            'Sorry, there are no images matching your search query. Please try again!'\n          )\n        );\n      } else {\n        renderImages(data.hits);\n      }\n    })\n    .then(() => {\n      simpleGallery.refresh();\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: error.message,\n      });\n      renderError();\n    });\n});"],"names":["apiKey","fetchImages","searchParam","page","gallery","renderLoading","createImageCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","li","a","imageContainer","img","cardDescription","attr","span","renderImages","images","fragment","image","ul","renderError","message","simpleGallery","SimpleLightbox","searchForm","event","form","response","data","error","iziToast"],"mappings":"6vBAAA,MAAMA,EAAS,qCAETC,EAAc,CAACC,EAAaC,IACzB,MACL,gCAAgCH,CAAM,MAAME,CAAW,6EAA6EC,CAAI,EAC5I,ECLMC,EAAU,SAAS,cAAc,UAAU,EAEpCC,EAAgB,IAAM,CACjCD,EAAQ,UAAY,8BACtB,EAEME,EAAkB,CAAC,CACrB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACJ,IAAM,CACJ,MAAMC,EAAK,SAAS,cAAc,IAAI,EAChCC,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,KAAOP,EAET,MAAMQ,EAAiB,SAAS,cAAc,KAAK,EACnDA,EAAe,UAAU,IAAI,iBAAiB,EAE9C,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAU,IAAI,eAAe,EACjCA,EAAI,IAAMV,EACVU,EAAI,IAAMR,EAEVO,EAAe,YAAYC,CAAG,EAC9BF,EAAE,YAAYC,CAAc,EAE5B,MAAME,EAAkB,SAAS,cAAc,KAAK,EACpD,OAAAA,EAAgB,UAAU,IAAI,kBAAkB,EAE7B,CACjB,CAAE,MAAO,QAAS,MAAOR,CAAO,EAChC,CAAE,MAAO,QAAS,MAAOC,CAAO,EAChC,CAAE,MAAO,WAAY,MAAOC,CAAU,EACtC,CAAE,MAAO,YAAa,MAAOC,CAAW,CAC5C,EAEa,QAAQM,GAAQ,CACzB,MAAMC,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,UAAU,IAAI,WAAW,EAC9BA,EAAK,UAAY,SAASD,EAAK,KAAK,WAAWA,EAAK,KAAK,GACzDD,EAAgB,YAAYE,CAAI,CACpC,CAAG,EAEDL,EAAE,YAAYG,CAAe,EAC7BJ,EAAG,YAAYC,CAAC,EAETD,CACT,EAEaO,EAAeC,GAAU,CACpC,MAAMC,EAAW,SAAS,yBAC1BD,EAAO,QAAQE,GAAS,CACtBD,EAAS,YAAYjB,EAAgBkB,CAAK,CAAC,CAC/C,CAAG,EAED,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAU,IAAI,cAAc,EAC/BA,EAAG,YAAYF,CAAQ,EAEvBnB,EAAQ,UAAY,GACpBA,EAAQ,YAAYqB,CAAE,CACxB,EAEaC,EAAc,CAACC,EAAU,4CAA8C,CAClFvB,EAAQ,UAAY,uBAAuBuB,CAAO,SACpD,EC9DMC,EAAgB,IAAIC,EAAe,aAAc,CACrD,eAAgB,GAChB,SAAU,GACV,aAAc,IACd,gBAAiB,SACjB,YAAa,OACb,aAAc,KAChB,CAAC,EAEKC,EAAa,SAAS,cAAc,cAAc,EAExDA,EAAW,iBAAiB,SAAUC,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,OAEb7B,EAAc8B,EAAK,SAAS,OAAO,MAAM,OAC1C9B,IAIL8B,EAAK,MAAK,EAEV3B,IAEAJ,EAAYC,EAAa,CAAC,EACvB,KAAK+B,GACGA,EAAS,MACjB,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,QAAU,EACjB,OAAO,QAAQ,OACb,IAAI,MACF,0EACD,CACX,EAEQb,EAAaa,EAAK,IAAI,CAE9B,CAAK,EACA,KAAK,IAAM,CACVN,EAAc,QAAO,CAC3B,CAAK,EACA,MAAMO,GAAS,CACdC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EAAM,OACvB,CAAO,EACDT,GACN,CAAK,EACL,CAAC"}